<div [class]="textareaWrapperClasses">
  <textarea
    [id]="id"
    [name]="name"
    [value]="currentValue"
    [placeholder]="placeholder"
    [disabled]="state === 'disabled'"
    [readonly]="readonly"
    [required]="required"
    [attr.maxlength]="maxlength"
    [class]="textareaClasses"
    [attr.aria-invalid]="validation === 'invalid'"
    [attr.aria-required]="required"
    (input)="onInput($event)"
    (focus)="onFocus($event)"
    (blur)="onBlur($event)"
  ></textarea>

  <!-- Resizer Icon -->
  <div class="bio-textarea-resizer">
    <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M8 8L0 0" stroke="#ced4da" stroke-width="1" stroke-linecap="round"/>
    </svg>
  </div>

  <!-- Validation Icons -->
  @if (validation === 'valid' && state !== 'disabled') {
    <div class="bio-textarea-validation bio-textarea-validation--valid">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M15 4.5L6.75 12.75L3 9" stroke="#198754" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  }
  @if (validation === 'invalid' && state !== 'disabled') {
    <div class="bio-textarea-validation bio-textarea-validation--invalid">
      <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.5 4.5L4.5 13.5M4.5 4.5L13.5 13.5" stroke="#dc3545" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </div>
  }

  <!-- Character Counter -->
  @if (counter) {
    <div class="bio-textarea-counter">
      {{ counterText }}
    </div>
  }
</div>

