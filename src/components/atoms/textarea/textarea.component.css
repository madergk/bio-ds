/**
 * Textarea Component Styles
 * 
 * Uses CSS Modules (Angular's ViewEncapsulation) and Design Tokens
 */

/* Base Textarea Wrapper */
.bio-textarea-wrapper {
  display: flex;
  flex-direction: column;
  width: 100%;
  position: relative;
}

/* Base Textarea Styles */
.bio-textarea {
  width: 100%;
  border: var(--border-width-thin) solid var(--color-border-light);
  background-color: var(--color-background-default);
  color: var(--color-text-secondary);
  font-family: var(--typography-font-family-primary);
  font-size: var(--typography-font-size-base);
  line-height: var(--typography-line-height-normal);
  outline: none;
  transition: all var(--transition-duration-normal) var(--transition-timing-ease-in-out);
  box-sizing: border-box;
  resize: none;
  overflow: hidden;
  min-height: 80px;
}

.bio-textarea::placeholder {
  color: var(--color-text-muted);
  opacity: 1;
}

.bio-textarea:focus {
  border-color: var(--color-border-focus);
  box-shadow: 0 0 0 0.2rem rgba(33, 150, 243, 0.25);
}

.bio-textarea:disabled {
  background-color: var(--color-background-tertiary);
  color: var(--color-text-muted);
  cursor: not-allowed;
  opacity: 1;
}

.bio-textarea[readonly] {
  background-color: var(--color-background-tertiary);
  cursor: default;
}

/* Size Variants */
.bio-textarea--sm {
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--typography-font-size-sm);
  border-radius: var(--border-radius-sm);
  min-height: 60px;
}

.bio-textarea--md {
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--typography-font-size-base);
  border-radius: var(--border-radius-sm);
  min-height: 80px;
}

.bio-textarea--lg {
  padding: var(--spacing-2) var(--spacing-4);
  font-size: var(--typography-font-size-xl);
  border-radius: var(--border-radius-md);
  min-height: 100px;
}

/* Validation States */
.bio-textarea--valid {
  border-color: var(--color-semantic-success-base);
}

.bio-textarea-wrapper--focused .bio-textarea--valid {
  border-color: var(--color-semantic-success-base);
  box-shadow: 0 0 0 0.2rem rgba(25, 135, 84, 0.25);
}

.bio-textarea--invalid {
  border-color: var(--color-semantic-error-base);
}

.bio-textarea-wrapper--focused .bio-textarea--invalid {
  border-color: var(--color-semantic-error-base);
  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
}

/* Validation Icons */
.bio-textarea-validation {
  position: absolute;
  right: 10px;
  top: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
}

.bio-textarea-validation--valid svg {
  width: 18px;
  height: 18px;
}

.bio-textarea-validation--invalid svg {
  width: 18px;
  height: 18px;
}

/* Adjust padding when validation icons are present */
.bio-textarea-wrapper--valid .bio-textarea,
.bio-textarea-wrapper--invalid .bio-textarea {
  padding-right: 37px;
}

/* Resizer Icon */
.bio-textarea-resizer {
  position: absolute;
  bottom: 4px;
  right: 4px;
  width: 8px;
  height: 8px;
  pointer-events: none;
  opacity: 0.5;
}

.bio-textarea-resizer svg {
  width: 100%;
  height: 100%;
}

/* Character Counter */
.bio-textarea-counter {
  margin-top: var(--spacing-xs);
  text-align: right;
  font-size: var(--typography-font-size-base);
  color: var(--color-text-muted);
  font-family: var(--typography-font-family-primary);
}

/* Focused State */
.bio-textarea-wrapper--focused .bio-textarea {
  border-color: var(--color-border-focus);
}

.bio-textarea-wrapper--focused:not(.bio-textarea-wrapper--valid):not(.bio-textarea-wrapper--invalid) .bio-textarea {
  box-shadow: 0 0 0 0.2rem rgba(33, 150, 243, 0.25);
}

/* Disabled State */
.bio-textarea-wrapper--disabled .bio-textarea {
  background-color: var(--color-background-tertiary);
  border-color: var(--color-border-light);
  color: var(--color-text-muted);
  cursor: not-allowed;
}

